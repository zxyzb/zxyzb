webpackJsonp([2],{"7WDG":function(e,t){},GFsV:function(e,t){},NHnr:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n("7+uW"),o={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]},r=n("VU/8")({name:"App"},o,!1,null,null,null).exports,l=n("/ocq"),i=n("//Fk"),a=n.n(i),u=n("mtWM"),c=n.n(u),m=n("mw3O"),d=n.n(m),p=n("zL8q"),h=n.n(p);function f(e){return!e||200!==e.status&&304!==e.status&&400!==e.status?{status:-404,msg:"网络异常"}:e}function v(e,t){return-404===e.status&&Object(p.Message)({message:"数据获取失败，请联系管理人员",type:"error",showClose:!0}),0==e.code&&t&&"sText"==t&&Object(p.Message)({message:"操作成功",type:"success",showClose:!0}),e}c.a.interceptors.request.use(function(e){return e},function(e){return a.a.reject(e)}),c.a.interceptors.response.use(function(e){return e},function(e){return a.a.resolve(e.response)});var _=function(e,t,n){return c()({method:"post",baseURL:"/",url:e,data:d.a.stringify(t),timeout:1e4,headers:{"X-Requested-With":"XMLHttpRequest","Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"}}).then(function(e){return f(e)}).then(function(e){return v(e,n)})},g={name:"HelloWorld",data:function(){return{msg:"Welcome to Your Vue.js App"}},mounted:function(){_("/user/test").then(function(e){console.log(e)})}},b={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"hello"},[t("h1",[this._v(this._s(this.msg))]),this._v(" "),t("h2",[this._v("Essential Links")])])},staticRenderFns:[]};var x=n("VU/8")(g,b,!1,function(e){n("QKRT")},"data-v-7f26ad48",null).exports,y=function(e,t,n){if(!/^admin$/.test(t)&&""==!t)return n(new Error("输入值默认为：admin"));n()},F={data:function(){return{loginForm:{name:"",pwd:""},formRules:{name:[{required:!0,message:"请输入默认用户名登录",trigger:"blur"},{validator:y,trigger:"blur"}],pwd:[{required:!0,message:"请输入默认用户名密码",trigger:"blur"},{validator:y,trigger:"blur"}]}}},methods:{clickLogin:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return console.log("err submit"),!1;setTimeout(function(){sessionStorage.setItem("userName","admin"),sessionStorage.setItem("defultActive","1"),t.$router.push({path:"/home"})},500)})}}},w={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"sys-login-bg"},[n("div",{staticClass:"sys-login"},[n("el-form",{ref:"loginForm",attrs:{model:e.loginForm,"label-width":"80px",rules:e.formRules}},[n("el-form-item",{attrs:{label:"用户名",prop:"name"}},[n("el-input",{attrs:{placeholder:"admin"},model:{value:e.loginForm.name,callback:function(t){e.$set(e.loginForm,"name",t)},expression:"loginForm.name"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"密码",prop:"pwd"}},[n("el-input",{attrs:{type:"password",placeholder:"admin"},model:{value:e.loginForm.pwd,callback:function(t){e.$set(e.loginForm,"pwd",t)},expression:"loginForm.pwd"}})],1),e._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:function(t){e.clickLogin("loginForm")}}},[e._v("登 录")])],1)],1)],1)])},staticRenderFns:[]};var k=n("VU/8")(F,w,!1,function(e){n("YCsE")},"data-v-a6cbcb90",null).exports,I={data:function(){return{activeIndex:"1"}},watch:{},methods:{handleSelect:function(e,t){switch(e){case"1":this.$store.dispatch("changeCollapse");break;case"2-1":sessionStorage.removeItem("userName"),this.$router.push({path:"/login"});break;default:return}}},computed:{activeCollapse:function(){return this.$store.state.isCollapse}}},C={render:function(){var e=this.$createElement,t=this._self._c||e;return t("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":this.activeIndex,mode:"horizontal"},on:{select:this.handleSelect}},[this.activeCollapse?t("el-menu-item",{attrs:{index:"1"}},[t("i",{staticClass:"el-icon-d-arrow-right"})]):t("el-menu-item",{attrs:{index:"1"}},[t("i",{staticClass:"el-icon-d-arrow-left"})]),this._v(" "),t("el-submenu",{staticClass:"right",attrs:{index:"2"}},[t("template",{slot:"title"},[this._v("admin")]),this._v(" "),t("el-menu-item",{attrs:{index:"2-1"}},[this._v("退出登录")])],2)],1)},staticRenderFns:[]};var $={data:function(){return{onRoutes:sessionStorage.getItem("defultActive")?sessionStorage.getItem("defultActive"):"1",collapse:!1,leftMenus:[{title:"首页",path:"/home",level:"1",icon:"el-icon-menu"},{title:"客户管理",level:"2",icon:"el-icon-service",child:[{title:"用户列表",path:"/user/list",level:"2-1"},{title:"微信菜单管理",path:"/weChatMenu/menu",level:"2-2"},{title:"用户角色管理",path:"/user/role",level:"2-3"}]}]}},methods:{clickMenu:function(e,t){sessionStorage.setItem("defultActive",e),this.onRoutes=e}},computed:{isCollapse:function(){return this.$store.state.isCollapse}},watch:{isCollapse:function(e){this.collapse=e}}},R={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"v-sider"},[n("el-menu",{staticClass:"el-menu-vertical-demo v-sider",attrs:{"default-active":e.onRoutes,router:!0,collapse:e.collapse},on:{select:e.clickMenu}},[e._l(e.leftMenus,function(t,s){return[t.child?[n("el-submenu",{key:t.index,attrs:{index:t.level,route:{path:t.path}}},[n("template",{slot:"title"},[n("i",{class:t.icon}),n("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.title))])]),e._v(" "),e._l(t.child,function(t,s){return n("el-menu-item",{key:s,attrs:{index:t.level,route:{path:t.path}}},[e._v("\n                        "+e._s(t.title)+"\n                    ")])})],2)]:[n("el-menu-item",{key:t.index,attrs:{index:t.level,route:{path:t.path}}},[n("i",{class:t.icon}),n("span",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(t.title))])])]]})],2)],1)},staticRenderFns:[]};var M={components:{Vheader:n("VU/8")(I,C,!1,function(e){n("kPLc")},null,null).exports,Vsider:n("VU/8")($,R,!1,function(e){n("hw7Q")},null,null).exports},data:function(){return{}}},S={render:function(){var e=this.$createElement,t=this._self._c||e;return t("el-container",[t("Vsider"),this._v(" "),t("el-container",[t("el-header",[t("Vheader")],1),this._v(" "),t("el-main",[t("router-view")],1)],1)],1)},staticRenderFns:[]},V=n("VU/8")(M,S,!1,null,null,null).exports,E={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData5,border:""}},[n("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[n("el-form-item",{attrs:{label:"商品名称"}},[n("span",[e._v(e._s(t.row.name))])]),e._v(" "),n("el-form-item",{attrs:{label:"所属店铺"}},[n("span",[e._v(e._s(t.row.shop))])]),e._v(" "),n("el-form-item",{attrs:{label:"商品 ID"}},[n("span",[e._v(e._s(t.row.id))])]),e._v(" "),n("el-form-item",{attrs:{label:"店铺 ID"}},[n("span",[e._v(e._s(t.row.shopId))])]),e._v(" "),n("el-form-item",{attrs:{label:"商品分类"}},[n("span",[e._v(e._s(t.row.category))])]),e._v(" "),n("el-form-item",{attrs:{label:"店铺地址"}},[n("span",[e._v(e._s(t.row.address))])]),e._v(" "),n("el-form-item",{attrs:{label:"商品描述"}},[n("span",[e._v(e._s(t.row.desc))])])],1)]}}])}),e._v(" "),n("el-table-column",{attrs:{label:"商品 ID",prop:"id"}}),e._v(" "),n("el-table-column",{attrs:{label:"商品名称",prop:"name"}}),e._v(" "),n("el-table-column",{attrs:{label:"描述",prop:"desc"}})],1)},staticRenderFns:[]};var L=n("VU/8")({components:{},props:{},data:function(){return{tableData5:[{id:"12987122",name:"好滋好味鸡蛋仔",category:"江浙小吃、小吃零食",desc:"荷兰优质淡奶，奶香浓而不腻",address:"上海市普陀区真北路",shop:"王小虎夫妻店",shopId:"10333"},{id:"12987123",name:"好滋好味鸡蛋仔",category:"江浙小吃、小吃零食",desc:"荷兰优质淡奶，奶香浓而不腻",address:"上海市普陀区真北路",shop:"王小虎夫妻店",shopId:"10333"},{id:"12987125",name:"好滋好味鸡蛋仔",category:"江浙小吃、小吃零食",desc:"荷兰优质淡奶，奶香浓而不腻",address:"上海市普陀区真北路",shop:"王小虎夫妻店",shopId:"10333"}]}},watch:{},computed:{},methods:{},created:function(){},mounted:function(){}},E,!1,function(e){n("GFsV")},null,null).exports,U=n("mvHQ"),T=n.n(U),W=n("woOf"),A=n.n(W),D={data:function(){return{dialogTitle:"添加",dialogForm:!1,menuForm:{name:"",type:"",key:"",url:"",subButton:[]},menu:"",menuIndex:"",itemIndex:""}},mounted:function(){var e,t=this;_("/menu/get",e).then(function(e){t.menu=e.data.data.button})},methods:{saveMenu:function(){this.menu.length>=3?this.$message.error("添加不能超过3个"):(this.dialogForm=!0,this.menuIndex="",this.itemIndex="")},addMenu:function(e,t){console.log(e),e.subButton.length>=5?this.$message.error("添加不能超过5个"):(this.menuIndex=t,this.itemIndex="",this.dialogForm=!0,this.menuForm={name:"",type:"",key:"",url:"",subButton:[]})},removeMenu:function(e,t){this.menu.splice(t,1)},editItem:function(e,t,n){this.menuIndex=t,this.itemIndex=n,this.dialogForm=!0,this.menuForm=A()({},e)},removeItem:function(e,t){console.log(this.menu[e]),this.menu[e].subButton.splice(t,1)},saveForm:function(){""!=this.itemIndex?this.menu[this.menuIndex].subButton[this.itemIndex]=this.menuForm:""===this.itemIndex&&""===this.menuIndex?this.menu.push(this.menuForm):this.menu[this.menuIndex].subButton.push(this.menuForm),this.dialogForm=!1},submitMenu:function(){var e,t=this;(e={button:T()(this.menu)},_("/menu/update",e)).then(function(e){t.$message({type:"success",message:"保存成功"})})},cancel:function(){this.dialogForm=!1}}},q={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-row",{attrs:{gutter:20}},[e._l(e.menu,function(t,s){return n("el-col",{key:s,attrs:{span:6}},[n("el-card",{staticClass:"box-card"},[n("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[n("span",[e._v(e._s(t.name))]),e._v(" "),n("el-button",{staticStyle:{float:"right",padding:"3px 0","margin-left":"10px"},attrs:{type:"text"},on:{click:function(n){e.addMenu(t,s)}}},[e._v("添加子菜单")]),e._v(" "),n("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"}},[e._v("编辑")]),e._v(" "),n("el-button",{staticStyle:{float:"right",padding:"3px 0"},attrs:{type:"text"},on:{click:function(n){e.removeMenu(t,s)}}},[e._v("删除")])],1),e._v(" "),e._l(t.subButton,function(t,o){return n("div",{key:o,staticClass:"text item el-c-item"},[n("div",[e._v("菜单名称："+e._s(t.name))]),e._v(" "),n("div",[e._v("key："+e._s(t.key))]),e._v(" "),n("div",[e._v("url："+e._s(t.url))]),e._v(" "),n("div",[e._v("type："+e._s(t.type))]),e._v(" "),n("el-button",{attrs:{type:"text"},on:{click:function(n){e.editItem(t,s,o)}}},[e._v("编辑")]),e._v(" "),n("el-button",{attrs:{type:"text"},on:{click:function(t){e.removeItem(s,o)}}},[e._v("删除")])],1)})],2)],1)}),e._v(" "),n("el-col",{attrs:{span:6}},[n("el-button",{on:{click:function(t){e.saveMenu()}}},[e._v("添加 +")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:function(t){e.submitMenu()}}},[e._v("保存菜单")])],1)],2),e._v(" "),n("el-dialog",{attrs:{title:e.dialogTitle,visible:e.dialogForm,"close-on-click-modal":!1,"show-close":!1},on:{"update:visible":function(t){e.dialogForm=t}}},[n("el-form",{attrs:{"label-width":"80px"},model:{value:e.menuForm,callback:function(t){e.menuForm=t},expression:"menuForm"}},[n("el-form-item",{attrs:{label:"菜单名称"}},[n("el-input",{model:{value:e.menuForm.name,callback:function(t){e.$set(e.menuForm,"name",t)},expression:"menuForm.name"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"类型"}},[n("el-select",{model:{value:e.menuForm.type,callback:function(t){e.$set(e.menuForm,"type",t)},expression:"menuForm.type"}},[n("el-option",{attrs:{label:"点击",value:"click"}}),e._v(" "),n("el-option",{attrs:{label:"跳转",value:"view"}})],1)],1),e._v(" "),"view"==e.menuForm.type?n("el-form-item",{attrs:{label:"跳转链接"}},[n("el-input",{model:{value:e.menuForm.url,callback:function(t){e.$set(e.menuForm,"url",t)},expression:"menuForm.url"}})],1):n("el-form-item",{attrs:{label:"key"}},[n("el-input",{model:{value:e.menuForm.key,callback:function(t){e.$set(e.menuForm,"key",t)},expression:"menuForm.key"}})],1),e._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.saveForm}},[e._v("确定")]),e._v(" "),n("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.cancel}},[e._v("取消")])],1)],1)],1)],1)},staticRenderFns:[]};var B=n("VU/8")(D,q,!1,function(e){n("7WDG")},null,null).exports;s.default.use(l.a);var j=new l.a({mode:"history",routes:[{path:"/",redirect:"/home"},{path:"/defaultLayout",component:V,children:[{path:"/home",component:x},{path:"/user/role",component:L},{path:"/weChatMenu/menu",component:B}]},{path:"/login",component:k},{path:"/error",component:function(e){return n.e(0).then(function(){return e(n("djY+"))}.bind(null,n)).catch(n.oe)},children:[{path:"/error/401",component:function(e){return n.e(0).then(function(){return e(n("DGK6"))}.bind(null,n)).catch(n.oe)},meta:{title:"401"}},{path:"/error/403",component:function(e){return n.e(0).then(function(){return e(n("2gyf"))}.bind(null,n)).catch(n.oe)},meta:{title:"403"}},{path:"/error/404",component:function(e){return n.e(0).then(function(){return e(n("mbSh"))}.bind(null,n)).catch(n.oe)},meta:{title:"404"}},{path:"/error/500",component:function(e){return n.e(0).then(function(){return e(n("9Qcf"))}.bind(null,n)).catch(n.oe)},meta:{title:"500"}}]}]});j.beforeEach(function(e,t,n){sessionStorage.getItem("userName")?e.matched.length?n():j.replace("/error/404"):"/login"===e.path?n():j.replace("/login")});var N=j,O=n("NYxO");s.default.use(O.a);var Q=new O.a.Store({state:{isCollapse:!1},mutations:{changeCollapse:function(e){e.isCollapse=!e.isCollapse}},actions:{changeCollapse:function(e){(0,e.commit)("changeCollapse")}}});n("tvR6"),n("erWL");s.default.config.productionTip=!1,s.default.use(O.a),s.default.use(h.a),new s.default({el:"#app",router:N,store:Q,components:{App:r},template:"<App/>"})},QKRT:function(e,t){},YCsE:function(e,t){},erWL:function(e,t){},hw7Q:function(e,t){},kPLc:function(e,t){},tvR6:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.9654807c97fce97fc00a.js.map